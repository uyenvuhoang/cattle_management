<!DOCTYPE html>
<!--
Click nbfs://nbhost/SystemFileSystem/Templates/Licenses/license-default.txt to change this license
Click nbfs://nbhost/SystemFileSystem/Templates/Other/html.html to edit this template
-->
<html xmlns:th="https://www.thymeleaf.org">
    <head>
        <title>TODO supply a title</title>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <link th:href="@{/home/css/bootstrap.min.css}" rel="stylesheet">
        <link th:href="@{/home/css/global.css}" rel="stylesheet">
        <link th:href="@{/home/css/index.css}" rel="stylesheet">
        <link th:href="@{/home/css/list.css}" rel="stylesheet">
        <link th:href="@{/home/css/sucsecc.css}" rel="stylesheet">        
        <link th:rel="stylesheet" type="text/css" th:href="@{/home/css/font-awesome.min.css}" />
        <link href="https://fonts.googleapis.com/css2?family=Poppins:ital,wght@0,400;1,300&display=swap" rel="stylesheet"> 
        <script th:src="@{/home/js/jquery-2.1.1.min.js}"></script>
        <script th:src="@{/home/js/bootstrap.min.js}"></script>
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
    </head>
    <body>
        <section id="top">
            <div class="container">
                <div class="row">
                    <div class="top_1 clearfix">
                        <div class="col-sm-4">
                            <div class="top_1m text-center clearfix">
                                <h3 class="mgt"><a  th:href="@{/}"><span class="col_3">Dairy</span> <img alt="abc" th:src="@{/home/img/logo.jpg}"> <span class="col_6">Farm</span></a></h3>
                            </div>
                        </div>
                        <div class="col-sm-5">
                            <div class="top_1l clearfix">
                                <p class="mgt font_16 text-center"><i class="fa fa-map col_1"></i> <span class="col_6">Address:</span> 312/Gonia, Canada</p>
                            </div>
                        </div>

                        <div class="col-sm-3">
                            <div class="top_1r text-right clearfix">
                                <div th:if="${username != null}">
                                    <h6 class="big mgt">Welcome, <span th:text="${username}"></span> <a class="button mgt" th:href="@{/logout}">logout</a></h6>
                                </div>
                                <div th:if="${username == null}">
                                    <h6 class="big mgt">
                                        <a class="button mgt" th:href="@{/login}">Login</a>
                                        <a class="button mgt" th:href="@{/register}">Register</a>
                                    </h6>   
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <section id="header" class="clearfix cd-secondary-nav" style="height: 80px;">
            <nav class="navbar nav_t">  
                <div class="container">
                    <div class="navbar-header page-scroll">
                        <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1">
                            <span class="sr-only">Toggle navigation</span>
                            <span class="icon-bar"></span>
                            <span class="icon-bar"></span>
                            <span class="icon-bar"></span>
                        </button>
                        <a class="navbar-brand" th:href="@{/}"> <span class="col_3">Dairy</span> <img alt="abc" th:src="@{/home/img/logo.jpg}"> <span class="col_6">Farm</span></a>
                    </div>
                    <!-- Brand and toggle get grouped for better mobile display -->
                    <!-- Collect the nav links, forms, and other content for toggling -->
                    <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
                        <ul class="nav navbar-nav">

                            <li><a class="m_tag" th:href="@{/}">Home</a></li>
                            <li><a class="m_tag" th:href="@{/about}">About</a></li>
                            <li><a class="m_tag" th:href="@{/products}">Product</a></li>
                            <li><a class="m_tag" th:href="@{/blog}">Blog</a></li>
                            <li><a class="m_tag active_tab" th:href="@{/listcattle}">Cattle</a></li>
                            <li><a class="m_tag" th:href="@{/contactus}">Contact Us</a></li>
                            <li class="dropdown">
                                <a class="m_tag" href="#" data-toggle="dropdown" role="button" aria-expanded="false">Pages<span class="caret"></span></a>
                                <ul class="dropdown-menu drop_3" role="menu">
                                    <li><a th:href="@{/mycart}">Shopping Cart</a></li>
                                   <li th:if="${username != null}"><a class="border_none" th:href="@{/purchasehistory}">Product History</a></li>
                                    <li th:if="${username != null}"><a class="border_none" th:href="@{/cowbuyinghistory}">Cow buying history</a></li>
                                </ul>
                            </li>
                        </ul>

                        <ul class="nav navbar-nav navbar-right">

                            <li><a class="m_tag" href="#aboutModal" data-toggle="modal" data-target="#myModal"><i class="fa fa-search"></i></a></li>

                            <li class="dropdown">
                                <a class="m_tag" href="#" data-toggle="dropdown" role="button" aria-expanded="false"><i class="fa fa-shopping-bag"></i></a>
                                <ul class="dropdown-menu drop_1" role="menu">
                                    <li>
                                        <div class="drop_1i clearfix">
                                            <div class="col-sm-6">

                                            </div>
                                            <div class="col-sm-6">
                                                <div class="drop_1il text-right clearfix"><h5 class="mgt"><a href="cart.html">VIEW CART</a></h5></div>
                                            </div>
                                        </div>
                                        <span th:each="p: ${pcart}">
                                            <span th:if="${username == p.userId.username and p.status != true}">
                                                <div class="drop_1i1 clearfix">
                                                    <div class="col-sm-6" style="margin-top: 8px">
                                                        <div class="drop_1i1l clearfix"><h6 class="mgt bold"><a href="#" th:text="${p.productid.productname}"></a> <br><span>$<span class="normal col_2" th:text="${p.productid.sale}"></span> </span><span style="font-size: 14px;">quantity:<span th:text="${p.quantity}"></span></h6></div>
                                                    </div>
                                                    <div class="col-sm-4" style="margin-top: 8px">
                                                        <div class="drop_1i1r clearfix"><a href="#"><img th:src="@{'images/'+${p.productid.image}}" class="iw" alt="abc"></a></div>
                                                    </div>
                                                    <div class="col-sm-2">
                                                        <div class="drop_1i1l text-right clearfix"><h6 class="mgt bold"> <span><a th:href="@{/deletecart/{id}(id = ${p.id})}"><i class="fa fa-remove"></i></a></span></h6></div>
                                                    </div>
                                                </div>
                                            </span>
                                        </span>
                                        <div class="drop_1i2 clearfix">
                                            <div class="col-sm-6">
                                                <div class="drop_1il clearfix"><h5 class="mgt">TOTAL</h5></div>
                                            </div>
                                            <div class="col-sm-6">
                                                <div class="drop_1il text-right clearfix"><h5 class="mgt">$<span th:text="${totlal}"></span></h5></div>
                                            </div>
                                        </div>
                                        <div class="drop_1i3 text-center clearfix">
                                            <div class="col-sm-12">
                                                <h5><a class="button" href="/mycart">CHECKOUT</a></h5>
                                            </div>
                                        </div>
                                    </li>
                                </ul>
                            </li>
                        </ul>
                    </div>
                    <!-- /.navbar-collapse -->
                </div>
                <!-- /.container-fluid -->
            </nav>

            <div id="success-message" class="success-message">
                <h2 class="suic">Order Placed Successfully!</h2>
                <p class="sui2">Thank you for your purchase. Your order has been confirmed.</p>
                <span onclick="hideSuccessMessage()" class="close1">&times;</span>
            </div>

        </section>

        <section id="center" class="center_o clearfix">
            <div class="container">
                <div class="row">
                    <div class="col-sm-12">
                        <div class="center_o1 text-center">
                            <h1 class="mgt">Cattle</h1>
                            <h4><a href="#">Home</a> / Cattle</h4>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <section id="list">
            <div class="container">
                <div class="row">
                    <div class="list_1 clearfix">
                        <div class="col-sm-3">
                            <div class="list_1l clearfix">
                                <div class="list_1l1 clearfix">
                                    <form th:action="@{/filtercacattle}" method="post">
                                        <select name="id" class="btn btn-primary dropdown-toggle" onchange="this.form.submit()" style="width: 100%; font-size: 18px;">
                                            <option th:value="0">Shop By Categories</option>
                                            <option th:value="0">All</option>
                                            <option th:each="c: ${catecattle}" th:value="${c.cattleCategoryId}" th:text="${c.cattleCategoryName}"></option>
                                        </select>
                                    </form>
                                    <!--                                    </div>-->
                                </div><br>
                                <div class="list_1l2 clearfix">
                                    <h4 class="mgt bg_1 normal" style="background-color: #428bca">Filter by</h4>
                                    <div class="list_1l2i clearfix"> 
                                        <h5>Price</h5>
                                        <form th:action="@{/filtercattle}" method="post">
                                            <input placeholder="From" class="form-control" name="min" th:value="${min}" type="number">
                                            <input placeholder="To" class="form-control" name="max" th:value="${max}" type="number">
                                            <input type="submit"  class="btn btn-primary mr-8" value="Filter" style="margin: 12px 70px -14px">
                                        </form>
                                        <hr>
                                    </div>
                                </div><br>
                                <div class="list_1l4 clearfix">
                                    <h4 class="mgt bg_1 normal" style="background-color: #428bca">Latest Twitter</h4>
                                    <div class="list_1l2i clearfix">
                                        <p class="mgt font_16">Make sure you are following <a class="col_1 bold" href="detail.html">@PortaMarket</a> for all your Semper Porta needs!</p>
                                        <p class="font_16">Make sure you are following <a class="col_1 bold" href="detail.html">@PortaMarket</a> for all your Semper Porta needs!</p>
                                        <p class="font_16">Make sure you are following <a class="col_1 bold" href="detail.html">@PortaMarket</a> for all your Semper Porta needs!</p>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="col-sm-9">
                            <div class="shop_1rm clearfix" >
                                <div class="shop_1r1 clearfix">
                                    <form class="nav-link mt-2 mt-md-0 d-none d-lg-flex search" th:action="@{/searchCattle}" method="post" id="searchForm" style="display: flex; align-items: center;">
                                        <input type="text" class="form-control" name="name" th:value="${name}" placeholder="Search products" style="flex: 1; margin-right: 10px;">
                                        <button type="submit" class="btn btn-primary">Search</button>
                                    </form>
                                </div>
                                <!--                                <div class="shop_1rp clearfix" >
                                
                                                                    <span th:each="c: ${clist}">
                                                                        <span th:if="${c.status != true}">
                                                                            <div class="col-sm-4">
                                                                                <div class="prod_1im clearfix">
                                                                                    <div class="prod_1i clearfix">
                                                                                        <div class="prod_1i1 clearfix">
                                                                                            <div class="grid clearfix">
                                                                                                <figure class="effect-jazz">
                                                                                                    <a th:href="@{/detailcattle/{id}(id = ${c.cattleId})}"><img th:src="@{'/images/'+${c.image}}" class="iw" alt="img25" height="200px"></a>
                                                                                                </figure>
                                                                                            </div>
                                                                                        </div>
                                                                                    </div>
                                                                                    <div class="prod_1ib text-center clearfix">
                                                                                        <h5 th:text="${c.name}"></h5>
                                                                                        <h7>
                                                                                            <span style="color: #2f567a; font-weight: bold">$<span th:text="${c.price}"></span></span>
                                                                                            <span style="margin-left: 50px;"> Age:<span th:text="${c.dateOfBirth}" ></span></span>
                                                                                            <div style="margin-left: 117px;">Weight(kg):<span th:text="${c.weight}" ></span></div>
                                                                                        </h7>
                                                                                        <ul>
                                                                                            <form  th:action="@{/listcattle}" th:object="${cattlesale}" method="post" class="myForm">
                                                                                                <span><input type="checkbox" th:value="true" name='assist'><i class="fa fa-truck"></i>Get transportation assist</span>
                                                                                                <input type="hidden" id="cattleId" name="cattleId.cattleId" th:value="${c.cattleId}" />
                                                                                                <div th:if="${username == null}">
                                                                                                    <h6 class="big mgt"><a class="button mgt" href="/login">Book Now</a></h6>
                                                                                                </div>
                                                                                                <div th:if="${username != null}">
                                                                                                    <h6 class="big mgt"><button class="button mgt" type="submit" >Book Now</button></h6>
                                                                                                </div>
                                                                                            </form>
                                                                                        </ul>
                                                                                    </div>
                                                                                </div>
                                                                            </div>
                                                                        </span>
                                                                    </span>
                                
                                                                </div>-->
                                <div id="product-list" class="shop_1rp clearfix">

                                </div>

                                <div class="pages clearfix text-center">
                                    <ul id="pagination"></ul>
                                </div>
                            </div>
                        </div>
                    </div> 
                </div>
            </div>
        </section>

        <section id="enquiry">
            <div class="container">
                <div class="row">
                    <div class="enquiry_1 text-center clearfix">
                        <div class="col-sm-12">
                            <h4 class="mgt">NEWSLETTER</h4>
                            <p>Subscribe to our newsletter and get <span class="col_1">20%</span> off your first purchase</p>
                            <div class="input-group">
                                <input type="text" class="form-control form_2" placeholder="Your Email">
                                <span class="input-group-btn">
                                    <button class="btn btn-primary" type="button">
                                        SUBSCRIBE</button>
                                </span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <section id="footer">
            <div class="container">
                <div class="row">
                    <div class="footer_1 clearfix">
                        <div class="col-sm-4">
                            <div class="footer_1l clearix">
                                <h4>GALLERY</h4>
                                <div class="footer_1li clearfix">
                                    <div class="col-sm-4 space_left col-xs-4">
                                        <div class="footer_1lii clearfix">
                                            <div class="grid clearfix">
                                                <figure class="effect-jazz">
                                                    <a href="#"><img th:src="@{/home/img/download (1).jpg}" height="70px" class="iw" alt="img25"></a>
                                                </figure>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-sm-4 space_left col-xs-4">
                                        <div class="footer_1lii clearfix">
                                            <div class="grid clearfix">
                                                <figure class="effect-jazz">
                                                    <a href="#"><img th:src="@{/home/img/images (1).jpg}" class="iw" alt="img25"></a>
                                                </figure>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-sm-4 space_left col-xs-4">
                                        <div class="footer_1lii clearfix">
                                            <div class="grid clearfix">
                                                <figure class="effect-jazz">
                                                    <a href="#"><img th:src="@{/home/img/download (2).jpg}" class="iw" alt="img25"></a>
                                                </figure>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div class="footer_1li clearfix">
                                    <div class="col-sm-4 space_left col-xs-4">
                                        <div class="footer_1lii clearfix">
                                            <div class="grid clearfix">
                                                <figure class="effect-jazz">
                                                    <a href="#"><img th:src="@{/home/img/thit.jpg}" class="iw" alt="img25"></a>
                                                </figure>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-sm-4 space_left col-xs-4">
                                        <div class="footer_1lii clearfix">
                                            <div class="grid clearfix">
                                                <figure class="effect-jazz">
                                                    <a href="#"><img th:src="@{/home/img/images (2).jpg}" class="iw" alt="img25"></a>
                                                </figure>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-sm-4 space_left col-xs-4">
                                        <div class="footer_1lii clearfix">
                                            <div class="grid clearfix">
                                                <figure class="effect-jazz">
                                                    <a href="#"><img th:src="@{/home/img/14488728322181.jpg}" class="iw" alt="img25"></a>
                                                </figure>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="col-sm-4">
                            <div class="footer_1m clearix">
                                <h4>QUICK LINKS</h4>
                                <div class="footer_1mi clearfix">
                                    <div class="col-sm-6 space_left col-xs-6">
                                        <div class="footer_1mil clearfix">
                                            <h6><i class="fa fa-caret-right col_1"></i> <a href="#">Our Farmers</a></h6>
                                            <h6><i class="fa fa-caret-right col_1"></i> <a href="#">New Products</a></h6>
                                            <h6><i class="fa fa-caret-right col_1"></i> <a href="#">Top Sellers</a></h6>
                                            <h6><i class="fa fa-caret-right col_1"></i> <a href="#">About Us</a></h6>
                                            <h6><i class="fa fa-caret-right col_1"></i> <a href="#">Faq</a></h6>
                                            <h6><i class="fa fa-caret-right col_1"></i> <a href="#">Contact Us</a></h6>
                                        </div>
                                    </div>
                                    <div class="col-sm-6 space_right col-xs-6">
                                        <div class="footer_1mil clearfix">
                                            <h6><i class="fa fa-caret-right col_1"></i> <a href="#">Cheese and Curds</a></h6>
                                            <h6><i class="fa fa-caret-right col_1"></i> <a href="#">Milk Products</a></h6>
                                            <h6><i class="fa fa-caret-right col_1"></i> <a href="#">Butter</a></h6>
                                            <h6><i class="fa fa-caret-right col_1"></i> <a href="#">Yogurt</a></h6>
                                            <h6><i class="fa fa-caret-right col_1"></i> <a href="#">Ice Cream</a></h6>
                                            <h6><i class="fa fa-caret-right col_1"></i> <a href="#">Other</a></h6>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="col-sm-4">
                            <div class="footer_1r clearix">
                                <h4>GET IN TOUCH</h4>
                                <p class="font_16"><i class="fa fa-map col_1"></i> Address : -312/Gonia,Canada</p>
                                <p class="font_16"><i class="fa fa-phone col_1"></i> <a href="#">+91 (123) 456 7890</a></p>
                                <p class="font_16"><i class="fa fa-phone col_1"></i> <a href="#">info@gmail.com</a></p>
                                <ul class="social-network social-circle">
                                    <li><a href="#" class="icoRss" title="Rss"><i class="fa fa-rss"></i></a></li>
                                    <li><a href="#" class="icoFacebook" title="Facebook"><i class="fa fa-facebook"></i></a></li>
                                    <li><a href="#" class="icoTwitter" title="Twitter"><i class="fa fa-twitter"></i></a></li>
                                    <li><a href="#" class="icoGoogle" title="Google +"><i class="fa fa-google-plus"></i></a></li>
                                    <li><a href="#" class="icoLinkedin" title="Linkedin"><i class="fa fa-linkedin"></i></a></li>
                                </ul>
                            </div>
                        </div>
                    </div>
                    <div class="footer_2 text-center clearfix">
                        <div class="col-sm-12">
                            <p class="mgt">© 2024 Your Website Cattle Management System<a class="col_1" href="http://www.templateonweb.com">TemplateOnWeb</a></p>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <div class="modal fade" id="myModal" tabindex="-1" role="dialog"  aria-hidden="true">
            <div class="modal-dialog">
                <div class="modal-content">
                    <div class="modal-body">
                        <div class="input-group clearfix">
                            <input type="text" class="form-control" placeholder="Search...">
                            <span class="input-group-btn">
                                <button class="btn btn-primary" type="button">
                                    <i class="fa fa-search"></i></button>
                            </span>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <script>
            $(document).ready(function () {
            /*****Fixed Menu******/
            var secondaryNav = $('.cd-secondary-nav'),
                    secondaryNavTopPosition = secondaryNav.offset().top;
            navbar_height = document.querySelector('.navbar').offsetHeight;
            $(window).on('scroll', function () {
            if ($(window).scrollTop() > secondaryNavTopPosition + navbar_height) {
            secondaryNav.addClass('is-fixed');
            document.body.style.paddingTop = navbar_height + 'px';
            } else {
            secondaryNav.removeClass('is-fixed');
            document.body.style.paddingTop = '0'
            }
            });
            });
        </script>

        <script th:src="@{/home/js/ziehharmonika.js}"></script>

        <script>
            $(document).ready(function () {
            $('.ziehharmonika').ziehharmonika({
            collapsible: true,
                    prefix: '★',
                    scroll: false
            });
            });
        </script>
        <script>
            function showSuccessMessage() {
            var successMessage = document.getElementById("success-message");
            successMessage.style.display = "block";
            setTimeout(hideSuccessMessage, 1000); // ẩn sau 1 giây (1000 miligiây)
            }

            function hideSuccessMessage() {
            var successMessage = document.getElementById("success-message");
            successMessage.style.display = "none";
            }
        </script>
        <script th:inline="javascript">
            // Số sản phẩm trên mỗi trang
            var itemsPerPage = 16;
            // Danh sách sản phẩm từ server
            var products = [[${clist
            }
            ]];
            // Lấy username từ server-side
            var username = [[${username
            }
            ]];
            // Tính tổng số trang
            var totalPages = Math.ceil(products.length / itemsPerPage);
            // Hàm hiển thị sản phẩm trên trang cụ thể
            function displayProducts(pageNumber) {
            var startIndex = (pageNumber - 1) * itemsPerPage;
            var endIndex = pageNumber * itemsPerPage;
            var paginatedProducts = products.slice(startIndex, endIndex);
            // Hiển thị sản phẩm trong paginatedProducts lên trang
            var productListElement = document.getElementById('product-list');
            productListElement.innerHTML = ''; // Xóa nội dung cũ trước khi cập nhật

            paginatedProducts.forEach(function (product) {
            if (!product.status) {
            var productElement = document.createElement('div');
            productElement.classList.add('col-sm-4');
            // Check if username is defined
            var bookNowButton = (username != null) ? '<button onclick="showSuccessMessage()" class="button mgt" type="submit">Book Now</button>' : '<a class="button mgt" href="/login">Book Now</a>';
            productElement.innerHTML = `
                <div class="prod_1im clearfix">
                    <div class="prod_1i clearfix">
                        <div class="prod_1i1 clearfix">
                            <div class="grid clearfix">
                                <figure class="effect-jazz">
                                    <a href="/detailcattle/${product.cattleId}">
                                        <img src="/images/${product.image}" class="iw" alt="img25" height="200px">
                                    </a>
                                </figure>
                            </div>
                        </div>
                    </div>
                    <div class="prod_1ib text-center clearfix">
                        <h5>${product.name}</h5>
                        <h7>
                            <span style="color: #2f567a; font-weight: bold">$${product.price}</span>
                            <span style="margin-left: 50px;"> Age: ${product.dateOfBirth}</span>
                            <div style="margin-left: 117px;">Weight(kg): ${product.weight}</div>
                        </h7>
                        <ul>
                            <form  action="/listcattle" method="post" class="myForm">
                                <span><input type="checkbox" name="assist" value="true"><i class="fa fa-truck"></i>Get transportation assist</span>
                                <input type="hidden" name="cattleId.cattleId" value="${product.cattleId}" />
                                <div>${bookNowButton}</div>
                            </form>
                        </ul>
                    </div>
                </div>
            `;
            // Thêm sản phẩm vào trực tiếp vào productListElement
            productListElement.appendChild(productElement);
            }
            });
            }

            // Hàm tạo nút phân trang
            function createPaginationButtons(totalPages) {
            var paginationElement = document.getElementById('pagination');
            paginationElement.innerHTML = ''; // Xóa nội dung cũ trước khi cập nhật

            for (var i = 1; i <= totalPages; i++) {
            var button = document.createElement('button');
            button.textContent = i;
            button.addEventListener('click', function () {
            displayProducts(parseInt(this.textContent));
            });
            var listItem = document.createElement('li');
            listItem.appendChild(button);
            paginationElement.appendChild(listItem);
            }
            }

            // Hiển thị trang đầu tiên khi trang được tải
            displayProducts(1);
            // Tạo nút phân trang
            createPaginationButtons(totalPages);
        </script>
    </body>
</html>

