<!DOCTYPE html>
<!--
Click nbfs://nbhost/SystemFileSystem/Templates/Licenses/license-default.txt to change this license
Click nbfs://nbhost/SystemFileSystem/Templates/Other/html.html to edit this template
-->
<html>
    <head>
        <title>TODO supply a title</title>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">

        <!--===============================================================================================-->	
        <link rel="icon" type="image/png" th:href="@{/login/images/icons/favicon.ico}"/>
        <!--===============================================================================================-->
        <link rel="stylesheet" type="text/css" th:href="@{/login/vendor/bootstrap/css/bootstrap.min.css}">
        <!--===============================================================================================-->
        <link rel="stylesheet" type="text/css" th:href="@{/login/fonts/font-awesome-4.7.0/css/font-awesome.min.css}">
        <!--===============================================================================================-->
        <link rel="stylesheet" type="text/css" th:href="@{/login/fonts/iconic/css/material-design-iconic-font.min.css}">
        <!--===============================================================================================-->
        <link rel="stylesheet" type="text/css" th:href="@{/login/vendor/animate/animate.css}">
        <!--===============================================================================================-->	
        <link rel="stylesheet" type="text/css" th:href="@{/login/vendor/css-hamburgers/hamburgers.min.css}">
        <!--===============================================================================================-->
        <link rel="stylesheet" type="text/css" th:href="@{/login/vendor/animsition/css/animsition.min.css}">
        <!--===============================================================================================-->
        <link rel="stylesheet" type="text/css" th:href="@{/login/vendor/select2/select2.min.css}">
        <!--===============================================================================================-->	
        <link rel="stylesheet" type="text/css" th:href="@{/login/vendor/daterangepicker/daterangepicker.css}">
        <!--===============================================================================================-->
        <link rel="stylesheet" type="text/css" th:href="@{/login/css/util.css}">
        <link rel="stylesheet" type="text/css" th:href="@{/login/css/main.css}">
        <link rel="stylesheet" th:href="@{/admin/assets/css/error.css}">
        <!--===============================================================================================-->
    </head>
    <body>
        <div class="limiter">
            <div class="container-login100">
                <div class="wrap-login100">
                    <form class="login100-form validate-form" method="post" role="form" action="/register" th:object="${signupDto}">
                        <span class="login100-form-title p-b-26">
                            Welcome
                        </span>
                        <span class="login100-form-title p-b-48">
                            <i class="zmdi zmdi-font"></i>
                        </span>
                        <div th:if="${error}" class="error-message">
                            <p style="color: red;margin-bottom: 20px">*Email already exist</p>
                        </div>
                        <div class="wrap-input100 validate-input" data-validate="Valid username is not blank">
                            <input class="input100" type="text" name="username" th:field="*{username}">
                            <span class="focus-input100" data-placeholder="Username"></span>
                        </div>
                        <div class="wrap-input100 validate-input" data-validate="Valid email is: a@b.c">
                            <input class="input100" type="text" name="email" th:field="*{email}">
                            <span class="focus-input100" data-placeholder="Email"></span>
                        </div>
                        <div class="wrap-input100 validate-input" data-validate="Password must contain at least one uppercase and one lowercase letter">
                            <span class="btn-show-pass">
                                <i class="zmdi zmdi-eye"></i>
                            </span>
                            <input class="input100" type="password"  th:field="*{password}" name="pass">
                            <span class="focus-input100" data-placeholder="Password"></span>
                        </div>
                        <div class="wrap-input100 validate-input" data-validate="Valid Address can not be blank">
                            <input class="input100" type="text" name="Address" th:field="*{country}">
                            <span class="focus-input100" data-placeholder="Address"></span>
                        </div>
                        <div class="wrap-input100 validate-input" data-validate="Valid Phone is not blank">
                            <input class="input100" type="text" name="phone" th:field="*{phone}">
                            <span class="focus-input100" data-placeholder="Phone"></span>
                        </div>
                        <div class="container-login100-form-btn">
                            <div class="wrap-login100-form-btn">
                                <div class="login100-form-bgbtn"></div>
                                <button class="login100-form-btn">
                                    Register
                                </button>
                            </div>
                        </div>
                        <div class="text-center p-t-115">
                            <span class="txt1">
                                Already have an account?
                            </span>
                            <a class="txt2" th:href="@{/login}">
                                Sign In
                            </a>
                        </div>
                    </form>
                </div>
            </div>
        </div>


        <div id="dropDownSelect1"></div>
        <script>
            document.addEventListener('DOMContentLoaded', function () {
                const form = document.querySelector('.login100-form');

                form.addEventListener('submit', function (event) {
                    const inputs = form.querySelectorAll('.validate-input');
                    let isValid = true;

                    inputs.forEach(function (input) {
                        const errorMessage = input.querySelector('.error-message');
                        const validateType = input.getAttribute('data-validate');
                        const fieldValue = input.querySelector('input').value.trim();

                        switch (validateType) {
                            case 'Valid username is not blank':
                                if (!fieldValue) {
                                    showError(input, 'Username cannot be blank.');
                                    isValid = false;
                                }
                                break;
                            case 'Valid email is: a@b.c':
                                // You can add email validation here if needed
                                break;
                            case 'Password must contain at least one uppercase and one lowercase letter':
                                if (!isValidPassword(fieldValue)) {
                                    showError(input, 'Password must have both uppercase and lowercase letters.');
                                    isValid = false;
                                }
                                break;
                            case 'Valid Address can not be blank':
                                if (!fieldValue) {
                                    showError(input, 'Address cannot be blank.');
                                    isValid = false;
                                }
                                break;
                            case 'Valid Phone is not blank':
                                if (!fieldValue) {
                                    showError(input, 'Phone cannot be blank.');
                                    isValid = false;
                                }
                                break;
                            default:
                                break;
                        }
                    });

                    if (!isValid) {
                        event.preventDefault(); // Prevent form submission if validation fails
                    }
                });

                function isValidPassword(password) {
                    // Regular expression for at least one uppercase letter, one lowercase letter
                    const passwordRegex = /^(?=.*[a-z])(?=.*[A-Z]).+$/;
                    return passwordRegex.test(password);
                }

                function showError(input, message) {
                    const errorMessage = input.querySelector('.error-message');
                    errorMessage.textContent = message;
                    errorMessage.style.display = 'block';
                }
            });
        </script>

        <!--===============================================================================================-->
        <script th:src="@{/login/vendor/jquery/jquery-3.2.1.min.js}"></script>
        <!--===============================================================================================-->
        <script th:src="@{/login/vendor/animsition/js/animsition.min.js}"></script>
        <!--===============================================================================================-->
        <script th:src="@{/login/vendor/bootstrap/js/popper.js}"></script>
        <script th:src="@{/login/vendor/bootstrap/js/bootstrap.min.js}"></script>
        <!--===============================================================================================-->
        <script th:src="@{/login/vendor/select2/select2.min.js}"></script>
        <!--===============================================================================================-->
        <script th:src="@{/login/vendor/daterangepicker/moment.min.js}"></script>
        <script th:src="@{/login/vendor/daterangepicker/daterangepicker.js}"></script>
        <!--===============================================================================================-->
        <script th:src="@{/login/vendor/countdowntime/countdowntime.js}"></script>
        <!--===============================================================================================-->
        <script th:src="@{/login/js/main.js}"></script>

    </body>
</html>
